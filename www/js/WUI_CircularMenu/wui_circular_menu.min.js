var WUI_CircularMenu=new function(){"use strict";var a=[],b=0,c={item:"wui-circularmenu-item",show:"wui-circularmenu-show"},d={x:null,y:null,rx:64,ry:48,angle:0,item_width:32,item_height:32,window:null,element:null},e=function(b){var c,d;for(d=0;a.length>d;d+=1)c=a[d],b.body.removeChild(c);a=[]},f=function(a,b,c){var d=function(a){a.preventDefault(),c(),e(b)};return d},g=function(a,d){var f=function(g){g.preventDefault();var h=(new Date).getTime();500>=h-b||g.target.classList.contains(c.item)||(e(d),a.removeEventListener("click",f),a.removeEventListener("mousedown",f))};return f},h=function(a){var b=a.getBoundingClientRect(),c=document.body,d=document.documentElement,e=window.pageYOffset||d.scrollTop||c.scrollTop,f=window.pageXOffset||d.scrollLeft||c.scrollLeft,g=d.clientTop||c.clientTop||0,h=d.clientLeft||c.clientLeft||0,i=b.top+e-g,j=b.left+f-h;return{top:Math.round(i),left:Math.round(j),width:b.width,height:b.height}},i=function(a){return a*(Math.PI/180)},j=function(d,h,j,k,l,m){e(k);var n,o,p,q,r=-(Math.PI/2)+i(d.angle),s=h.length,t=2*Math.PI/s;for(p=0;s>p;p+=1)o=h[p],n=document.createElement("div"),n.classList.add(c.item),n.style.width=d.item_width+"px",n.style.height=d.item_height+"px",n.style.backgroundSize=d.item_width-4+"px "+(d.item_height-4)+"px",n.style.left=l+d.rx*Math.cos(r)+"px",n.style.top=m+d.ry*Math.sin(r)+"px",n.classList.add(o.icon),o.tooltip&&(n.title=o.tooltip),k.body.appendChild(n),j.getComputedStyle(n).width,a.push(n),o.on_click&&n.addEventListener("click",f(j,k,o.on_click)),n.classList.add(c.show),r+=t;q=g(j,k),j.addEventListener("click",q),b=(new Date).getTime(),j.addEventListener("mousedown",q)};this.create=function(a,b){var c,e,f,g,i,k={},l=document,m=window;for(c in d)d.hasOwnProperty(c)&&(k[c]=d[c]);if(void 0!==a)for(c in a)a.hasOwnProperty(c)&&void 0!==d[c]&&(k[c]=a[c]);g=k.element,null!==g?(i=h(g),l=g.ownerDocument,m=l.defaultView||l.parentWindow,e=i.left+(i.width-k.item_width)/2,f=i.top+(i.height-k.item_height)/2,j(k,b,m,l,e,f)):null!==e&&null!==f&&(null!==k.window&&(m=k.window,l=m.document),e=k.x-k.item_width/2,f=k.y-k.item_height/2,j(k,b,m,l,e,f))}};